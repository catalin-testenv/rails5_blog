<% content_for :title do %>
    <%= resource_view_show_message resource_instance: @resource %>
<% end %>

<% content_for :css do %>
    <%= @resource.meta_css.try(:html_safe) %>
<% end %>

<% content_for :js do %>
    <%= @resource.meta_js.try(:html_safe) %>
<% end %>

<h4 class="uk-panel-title"><%= resource_view_show_message resource_instance: @resource %> <span>[id&lt;<%= @resource.id %>&gt;]</span></h4>

<div>
  <ul class="uk-subnav uk-subnav-line uk-link-unmuted">
    <li><%= link_to edit_message, edit_admin_page_path(@resource) %></li>
    <li><%= link_to back_message, admin_pages_path %></li>
  </ul>
</div>

<div class="uk-grid uk-grid-small" data-uk-grid-margin>
  <div class="uk-width-1-1">
    <span><%= Page.human_attribute_name(:name) %></span>
    <p class="form-text-input-mirror"><%= @resource.name %></p>
  </div>

  <div class="uk-width-1-1">
    <ul class="uk-tab" data-uk-tab="{connect:'#code-editor-area'}">
      <li class="uk-active"><a href=""><%= Page.human_attribute_name(:meta_description) %></a></li>
      <li><a href=""><%= Page.human_attribute_name(:excerpt) %></a></li>
      <li><a href="" ><%= Page.human_attribute_name(:meta_css) %></a></li>
      <li><a href=""><%= Page.human_attribute_name(:meta_js) %></a></li>
    </ul>
    <ul id="code-editor-area" class="uk-switcher code-editor-area">
      <li><pre data-code-editor='{"language":"text"}'><%= @resource.meta_description %></pre></li>
      <li><pre data-code-editor='{"language":"html_ruby"}'><%= @resource.excerpt.html_safe %></pre></li>
      <li><pre data-code-editor='{"language":"css"}'><%= @resource.meta_css %></pre></li>
      <li><pre data-code-editor='{"language":"javascript"}'><%= @resource.meta_js %></pre></li>
    </ul>
  </div>

  <div class="uk-width-1-1">
    <div class="uk-grid uk-grid-small" data-uk-grid-margin>
      <div class="uk-width-medium-1-2">
      <span class="ccr-custom-style ccr-state-<%= @resource.is_main_nav ? 'on': 'off' %> uk-width">
        <%= Page.human_attribute_name(:is_main_nav).humanize %>
        <%# content_tag(:span, nil, class: @resource.is_main_nav ? 'fa fa-thumbs-o-up' : 'fa fa-thumbs-o-down') %>
      </span>
      </div>
      <div class="uk-width-medium-1-2">
      <span class="ccr-custom-style ccr-state-<%= @resource.is_commentable ? 'on': 'off' %> uk-width">
        <%= Page.human_attribute_name(:is_commentable).humanize %>
      </span>
      </div>
      <div class="uk-width-medium-1-2">
      <span class="ccr-custom-style ccr-state-<%= @resource.published ? 'on': 'off' %> uk-width">
        <%= Page.human_attribute_name(:published).humanize %>
      </span>
      </div>
      <div class="uk-width-medium-1-2">
      <span class="ccr-custom-style ccr-state-<%= @resource.root_page ? 'on': 'off' %> uk-width">
        <%= Page.human_attribute_name(:root_page).humanize %>
      </span>
      </div>
    </div>
  </div>

  <div class="uk-width-1-1">
    <div class="uk-grid uk-grid-small" data-uk-grid-margin>
      <div class="uk-width-medium-1-2">
        <span><%= Page.human_attribute_name(:parent_id) %></span>
        <p class="form-text-input-mirror"><%= @resource.page_category.try(:name) || I18n.t('root') %></p>
      </div>
      <div class="uk-width-medium-1-2">
        <span><%= Page.human_attribute_name(:ordering).humanize %></span>
        <p class="form-text-input-mirror"><%= @resource.ordering %></p>
      </div>
      <div class="uk-width-medium-1-2">
        <span><%= Page.human_attribute_name(:max_comments).humanize %></span>
        <p class="form-text-input-mirror"><%= @resource.max_comments %></p>
      </div>
    </div>
  </div>

  <div class="uk-width-1-1">
    <div><%= evaluate(@resource.content).html_safe %></div>
  </div>

  <div class="uk-width-1-1">
    <hr class="uk-grid-divider cancel-panel-box-horizontal-padding" />
  </div>
</div>

<div>
  <ul class="uk-subnav uk-subnav-line uk-margin-top-remove uk-link-unmuted">
    <li><%= link_to edit_message, edit_admin_page_path(@resource) %></li>
    <li><%= link_to back_message, admin_pages_path %></li>
  </ul>
</div>